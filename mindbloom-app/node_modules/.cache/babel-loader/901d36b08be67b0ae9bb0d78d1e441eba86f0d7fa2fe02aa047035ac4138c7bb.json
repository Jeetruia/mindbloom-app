{"ast":null,"code":"import _objectSpread from\"/Users/jeetruia/MINDBLOOM/mindbloom-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{motion}from'framer-motion';import{useStore}from'../hooks/useStore';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Enhanced lip-sync component\nfunction LipSyncMouth(_ref){let{isSpeaking,text}=_ref;const[mouthShape,setMouthShape]=useState('closed');useEffect(()=>{if(isSpeaking&&text){const interval=setInterval(()=>{var _text$Math$floor;// Analyze text for phoneme-based mouth shapes\nconst currentChar=(_text$Math$floor=text[Math.floor(Math.random()*text.length)])===null||_text$Math$floor===void 0?void 0:_text$Math$floor.toLowerCase();if(currentChar){if('aeiou'.includes(currentChar)){setMouthShape('open');// Open mouth for vowels\n}else if('mnpb'.includes(currentChar)){setMouthShape('closed');// Closed mouth for labials\n}else if('fv'.includes(currentChar)){setMouthShape('teeth');// Teeth visible for fricatives\n}else{setMouthShape('slight');// Slight opening for consonants\n}}},150);// Faster updates for more realistic lip-sync\nreturn()=>clearInterval(interval);}else{setMouthShape('closed');}},[isSpeaking,text]);const getMouthStyle=()=>{switch(mouthShape){case'open':return{height:'8px',borderRadius:'50%',backgroundColor:'#1a1a1a'};case'teeth':return{height:'6px',borderRadius:'25%',backgroundColor:'#f5f5f5',border:'1px solid #1a1a1a'};case'slight':return{height:'4px',borderRadius:'50%',backgroundColor:'#1a1a1a'};default:return{height:'2px',borderRadius:'50%',backgroundColor:'#1a1a1a'};}};return/*#__PURE__*/_jsx(motion.div,{className:\"absolute\",style:_objectSpread({width:'16px',bottom:'20px',// Positioned properly on the face\nleft:'50%',transform:'translateX(-50%)'},getMouthStyle()),animate:isSpeaking?{scaleY:[1,1.2,0.8,1],scaleX:[1,1.1,0.9,1]}:{},transition:{duration:0.15,repeat:isSpeaking?Infinity:0,ease:'easeInOut'}});}// Simple 2D Avatar Component with enhanced lip-sync\nfunction TherapistAvatar(_ref2){let{isSpeaking,emotion,currentMessage}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center h-full\",children:[/*#__PURE__*/_jsxs(motion.div,{className:\"relative\",animate:isSpeaking?{scale:[1,1.05,1]}:{},transition:{duration:0.5,repeat:isSpeaking?Infinity:0},children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-32 h-32 bg-gradient-to-br from-pink-200 to-pink-300 rounded-full shadow-lg flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(motion.div,{className:\"w-4 h-4 bg-gray-800 rounded-full\",animate:isSpeaking?{scaleY:[1,0.3,1]}:{},transition:{duration:0.3,repeat:isSpeaking?Infinity:0}}),/*#__PURE__*/_jsx(motion.div,{className:\"w-4 h-4 bg-gray-800 rounded-full\",animate:isSpeaking?{scaleY:[1,0.3,1]}:{},transition:{duration:0.3,repeat:isSpeaking?Infinity:0}})]})}),/*#__PURE__*/_jsx(LipSyncMouth,{isSpeaking:isSpeaking,text:currentMessage}),/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-32 bg-gradient-to-br from-blue-400 to-blue-500 rounded-lg mx-auto mt-4 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between px-2 pt-4\",children:[/*#__PURE__*/_jsx(motion.div,{className:\"w-3 h-16 bg-gradient-to-br from-pink-200 to-pink-300 rounded-full\",animate:isSpeaking?{rotate:[0,10,-10,0]}:{},transition:{duration:1,repeat:isSpeaking?Infinity:0}}),/*#__PURE__*/_jsx(motion.div,{className:\"w-3 h-16 bg-gradient-to-br from-pink-200 to-pink-300 rounded-full\",animate:isSpeaking?{rotate:[0,-10,10,0]}:{},transition:{duration:1,repeat:isSpeaking?Infinity:0}})]})})]}),/*#__PURE__*/_jsxs(motion.div,{className:\"mt-6 px-4 py-2 bg-white/90 backdrop-blur-sm rounded-lg shadow-lg\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.5},children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-800\",children:\"Mira\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Your Wellness Guide\"})]})]});}// Greeting animation component\nfunction GreetingAnimation(){const[showGreeting,setShowGreeting]=useState(true);useEffect(()=>{const timer=setTimeout(()=>{setShowGreeting(false);},3000);return()=>clearTimeout(timer);},[]);if(!showGreeting)return null;return/*#__PURE__*/_jsx(motion.div,{className:\"absolute top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10\",initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.8},transition:{duration:0.5},children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl max-w-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(motion.div,{className:\"w-12 h-12 bg-primary-500 rounded-full flex items-center justify-center mx-auto mb-3\",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:Infinity},children:/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:\"\\uD83D\\uDC4B\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-2\",children:\"Hi, I'm Mira!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Your AI wellness companion. I'm here to listen, support, and guide you on your mental health journey.\"})]})})});}// Main Avatar Scene Component\nexport function AvatarScene(_ref3){var _messages;let{isSpeaking=false,currentMessage=''}=_ref3;const{avatarState,user,messages}=useStore();const[showAvatar,setShowAvatar]=useState(false);useEffect(()=>{if(user){// Delay avatar appearance for smooth entrance\nconst timer=setTimeout(()=>{setShowAvatar(true);},1000);return()=>clearTimeout(timer);}},[user]);// Get the current AI message for lip-sync (prioritize passed prop)\nconst messageForLipSync=currentMessage||(messages.length>0?((_messages=messages[messages.length-1])===null||_messages===void 0?void 0:_messages.content)||'':'');// Use passed isSpeaking prop or fall back to store\nconst speaking=isSpeaking||avatarState.isSpeaking;if(!user)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-full relative bg-gradient-to-br from-primary-50 to-wellness-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 opacity-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-10 left-10 w-20 h-20 bg-primary-200 rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-32 right-16 w-16 h-16 bg-wellness-200 rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-20 left-20 w-12 h-12 bg-primary-300 rounded-full\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-32 right-10 w-24 h-24 bg-wellness-300 rounded-full\"})]}),showAvatar&&/*#__PURE__*/_jsx(motion.div,{className:\"h-full\",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:/*#__PURE__*/_jsx(TherapistAvatar,{isSpeaking:speaking,emotion:avatarState.emotion,currentMessage:messageForLipSync})}),/*#__PURE__*/_jsx(GreetingAnimation,{}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-4 left-4 right-4\",children:/*#__PURE__*/_jsx(motion.div,{className:\"bg-white/90 backdrop-blur-sm rounded-lg p-4 shadow-lg\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(motion.div,{className:\"w-3 h-3 bg-green-500 rounded-full\",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:Infinity}}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Mira is ready to listen and support you\"})]})})})]});}","map":{"version":3,"names":["React","useState","useEffect","motion","useStore","jsx","_jsx","jsxs","_jsxs","LipSyncMouth","_ref","isSpeaking","text","mouthShape","setMouthShape","interval","setInterval","_text$Math$floor","currentChar","Math","floor","random","length","toLowerCase","includes","clearInterval","getMouthStyle","height","borderRadius","backgroundColor","border","div","className","style","_objectSpread","width","bottom","left","transform","animate","scaleY","scaleX","transition","duration","repeat","Infinity","ease","TherapistAvatar","_ref2","emotion","currentMessage","children","scale","rotate","initial","opacity","y","delay","GreetingAnimation","showGreeting","setShowGreeting","timer","setTimeout","clearTimeout","exit","AvatarScene","_ref3","_messages","avatarState","user","messages","showAvatar","setShowAvatar","messageForLipSync","content","speaking"],"sources":["/Users/jeetruia/MINDBLOOM/mindbloom-app/src/components/AvatarScene2D.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { useStore } from '../hooks/useStore';\nimport { Bot } from 'lucide-react';\n\n// Enhanced lip-sync component\nfunction LipSyncMouth({ isSpeaking, text }: { isSpeaking: boolean; text: string }) {\n  const [mouthShape, setMouthShape] = useState('closed');\n\n  useEffect(() => {\n    if (isSpeaking && text) {\n      const interval = setInterval(() => {\n        // Analyze text for phoneme-based mouth shapes\n        const currentChar = text[Math.floor(Math.random() * text.length)]?.toLowerCase();\n        \n        if (currentChar) {\n          if ('aeiou'.includes(currentChar)) {\n            setMouthShape('open'); // Open mouth for vowels\n          } else if ('mnpb'.includes(currentChar)) {\n            setMouthShape('closed'); // Closed mouth for labials\n          } else if ('fv'.includes(currentChar)) {\n            setMouthShape('teeth'); // Teeth visible for fricatives\n          } else {\n            setMouthShape('slight'); // Slight opening for consonants\n          }\n        }\n      }, 150); // Faster updates for more realistic lip-sync\n\n      return () => clearInterval(interval);\n    } else {\n      setMouthShape('closed');\n    }\n  }, [isSpeaking, text]);\n\n  const getMouthStyle = () => {\n    switch (mouthShape) {\n      case 'open':\n        return {\n          height: '8px',\n          borderRadius: '50%',\n          backgroundColor: '#1a1a1a'\n        };\n      case 'teeth':\n        return {\n          height: '6px',\n          borderRadius: '25%',\n          backgroundColor: '#f5f5f5',\n          border: '1px solid #1a1a1a'\n        };\n      case 'slight':\n        return {\n          height: '4px',\n          borderRadius: '50%',\n          backgroundColor: '#1a1a1a'\n        };\n      default:\n        return {\n          height: '2px',\n          borderRadius: '50%',\n          backgroundColor: '#1a1a1a'\n        };\n    }\n  };\n\n  return (\n    <motion.div\n      className=\"absolute\"\n      style={{\n        width: '16px',\n        bottom: '20px', // Positioned properly on the face\n        left: '50%',\n        transform: 'translateX(-50%)',\n        ...getMouthStyle()\n      }}\n      animate={isSpeaking ? {\n        scaleY: [1, 1.2, 0.8, 1],\n        scaleX: [1, 1.1, 0.9, 1],\n      } : {}}\n      transition={{ \n        duration: 0.15, \n        repeat: isSpeaking ? Infinity : 0,\n        ease: 'easeInOut'\n      }}\n    />\n  );\n}\n\n// Simple 2D Avatar Component with enhanced lip-sync\nfunction TherapistAvatar({ isSpeaking, emotion, currentMessage }: { \n  isSpeaking: boolean; \n  emotion: any;\n  currentMessage: string;\n}) {\n\n  return (\n    <div className=\"flex flex-col items-center justify-center h-full\">\n      {/* Avatar Face */}\n      <motion.div\n        className=\"relative\"\n        animate={isSpeaking ? {\n          scale: [1, 1.05, 1],\n        } : {}}\n        transition={{ duration: 0.5, repeat: isSpeaking ? Infinity : 0 }}\n      >\n        {/* Head */}\n        <div className=\"w-32 h-32 bg-gradient-to-br from-pink-200 to-pink-300 rounded-full shadow-lg flex items-center justify-center\">\n          {/* Eyes */}\n          <div className=\"flex space-x-4\">\n            <motion.div\n              className=\"w-4 h-4 bg-gray-800 rounded-full\"\n              animate={isSpeaking ? {\n                scaleY: [1, 0.3, 1],\n              } : {}}\n              transition={{ duration: 0.3, repeat: isSpeaking ? Infinity : 0 }}\n            />\n            <motion.div\n              className=\"w-4 h-4 bg-gray-800 rounded-full\"\n              animate={isSpeaking ? {\n                scaleY: [1, 0.3, 1],\n              } : {}}\n              transition={{ duration: 0.3, repeat: isSpeaking ? Infinity : 0 }}\n            />\n          </div>\n        </div>\n\n        {/* Enhanced Lip-Sync Mouth */}\n        <LipSyncMouth isSpeaking={isSpeaking} text={currentMessage} />\n\n        {/* Body */}\n        <div className=\"w-24 h-32 bg-gradient-to-br from-blue-400 to-blue-500 rounded-lg mx-auto mt-4 shadow-lg\">\n          {/* Arms */}\n          <div className=\"flex justify-between px-2 pt-4\">\n            <motion.div\n              className=\"w-3 h-16 bg-gradient-to-br from-pink-200 to-pink-300 rounded-full\"\n              animate={isSpeaking ? {\n                rotate: [0, 10, -10, 0],\n              } : {}}\n              transition={{ duration: 1, repeat: isSpeaking ? Infinity : 0 }}\n            />\n            <motion.div\n              className=\"w-3 h-16 bg-gradient-to-br from-pink-200 to-pink-300 rounded-full\"\n              animate={isSpeaking ? {\n                rotate: [0, -10, 10, 0],\n              } : {}}\n              transition={{ duration: 1, repeat: isSpeaking ? Infinity : 0 }}\n            />\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Name Tag */}\n      <motion.div\n        className=\"mt-6 px-4 py-2 bg-white/90 backdrop-blur-sm rounded-lg shadow-lg\"\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ delay: 0.5 }}\n      >\n        <p className=\"text-lg font-semibold text-gray-800\">Mira</p>\n        <p className=\"text-sm text-gray-600\">Your Wellness Guide</p>\n      </motion.div>\n    </div>\n  );\n}\n\n// Greeting animation component\nfunction GreetingAnimation() {\n  const [showGreeting, setShowGreeting] = useState(true);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setShowGreeting(false);\n    }, 3000);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  if (!showGreeting) return null;\n\n  return (\n    <motion.div\n      className=\"absolute top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10\"\n      initial={{ opacity: 0, scale: 0.8 }}\n      animate={{ opacity: 1, scale: 1 }}\n      exit={{ opacity: 0, scale: 0.8 }}\n      transition={{ duration: 0.5 }}\n    >\n      <div className=\"bg-white/95 backdrop-blur-sm rounded-2xl p-6 shadow-2xl max-w-sm\">\n        <div className=\"text-center\">\n          <motion.div\n            className=\"w-12 h-12 bg-primary-500 rounded-full flex items-center justify-center mx-auto mb-3\"\n            animate={{ rotate: [0, 10, -10, 0] }}\n            transition={{ duration: 2, repeat: Infinity }}\n          >\n            <span className=\"text-2xl\">ðŸ‘‹</span>\n          </motion.div>\n          <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">\n            Hi, I'm Mira!\n          </h3>\n          <p className=\"text-gray-600\">\n            Your AI wellness companion. I'm here to listen, support, and guide you on your mental health journey.\n          </p>\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n\n// Main Avatar Scene Component\nexport function AvatarScene({ isSpeaking = false, currentMessage = '' }: { \n  isSpeaking?: boolean; \n  currentMessage?: string; \n}) {\n  const { avatarState, user, messages } = useStore();\n  const [showAvatar, setShowAvatar] = useState(false);\n\n  useEffect(() => {\n    if (user) {\n      // Delay avatar appearance for smooth entrance\n      const timer = setTimeout(() => {\n        setShowAvatar(true);\n      }, 1000);\n\n      return () => clearTimeout(timer);\n    }\n  }, [user]);\n\n  // Get the current AI message for lip-sync (prioritize passed prop)\n  const messageForLipSync = currentMessage || (messages.length > 0 \n    ? messages[messages.length - 1]?.content || ''\n    : '');\n\n  // Use passed isSpeaking prop or fall back to store\n  const speaking = isSpeaking || avatarState.isSpeaking;\n\n  if (!user) return null;\n\n  return (\n    <div className=\"w-full h-full relative bg-gradient-to-br from-primary-50 to-wellness-50\">\n      {/* Background Pattern */}\n      <div className=\"absolute inset-0 opacity-10\">\n        <div className=\"absolute top-10 left-10 w-20 h-20 bg-primary-200 rounded-full\"></div>\n        <div className=\"absolute top-32 right-16 w-16 h-16 bg-wellness-200 rounded-full\"></div>\n        <div className=\"absolute bottom-20 left-20 w-12 h-12 bg-primary-300 rounded-full\"></div>\n        <div className=\"absolute bottom-32 right-10 w-24 h-24 bg-wellness-300 rounded-full\"></div>\n      </div>\n\n      {/* Avatar */}\n      {showAvatar && (\n        <motion.div\n          className=\"h-full\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ duration: 1 }}\n        >\n          <TherapistAvatar \n            isSpeaking={speaking}\n            emotion={avatarState.emotion}\n            currentMessage={messageForLipSync}\n          />\n        </motion.div>\n      )}\n\n      {/* Greeting */}\n      <GreetingAnimation />\n      \n      {/* Status Indicator */}\n      <div className=\"absolute bottom-4 left-4 right-4\">\n        <motion.div\n          className=\"bg-white/90 backdrop-blur-sm rounded-lg p-4 shadow-lg\"\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 2 }}\n        >\n          <div className=\"flex items-center space-x-3\">\n            <motion.div\n              className=\"w-3 h-3 bg-green-500 rounded-full\"\n              animate={{ scale: [1, 1.2, 1] }}\n              transition={{ duration: 2, repeat: Infinity }}\n            />\n            <span className=\"text-sm text-gray-700\">\n              Mira is ready to listen and support you\n            </span>\n          </div>\n        </motion.div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}