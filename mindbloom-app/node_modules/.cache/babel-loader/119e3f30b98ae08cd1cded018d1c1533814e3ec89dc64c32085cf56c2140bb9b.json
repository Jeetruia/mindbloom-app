{"ast":null,"code":"import React,{useState,useEffect}from'react';import{botpressService}from'../services/botpressService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function BotpressTest(){const[message,setMessage]=useState('');const[response,setResponse]=useState('');const[isLoading,setIsLoading]=useState(false);const[isConnected,setIsConnected]=useState(false);const[conversationId,setConversationId]=useState(null);useEffect(()=>{// Check connection status\nconst checkConnection=()=>{setIsConnected(botpressService.isServiceConnected());setConversationId(botpressService.getConversationId());};checkConnection();const interval=setInterval(checkConnection,1000);return()=>clearInterval(interval);},[]);const testBotpress=async()=>{setIsLoading(true);try{const messages=await botpressService.sendMessage(message);if(messages.length>0){setResponse(messages[0].text||'No response');}}catch(error){setResponse('Error: '+error);}finally{setIsLoading(false);}};const testGreeting=async()=>{setIsLoading(true);try{const messages=await botpressService.getInitialGreeting();if(messages.length>0){setResponse(messages[0].text||'No greeting');}}catch(error){setResponse('Error: '+error);}finally{setIsLoading(false);}};const initializeBotpress=async()=>{setIsLoading(true);try{await botpressService.initialize();setResponse('Botpress initialization completed');}catch(error){setResponse('Error initializing Botpress: '+error);}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-white rounded-lg shadow-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Botpress Integration Test\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 p-3 rounded-lg bg-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full \".concat(isConnected?'bg-green-500':'bg-red-500')}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium\",children:isConnected?'Connected to Botpress (Real API)':'Not connected to Botpress'})]}),conversationId&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-600 mt-1\",children:[\"Conversation ID: \",conversationId]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium mb-2\",children:\"Test Message:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message,onChange:e=>setMessage(e.target.value),placeholder:\"Type a message to test...\",className:\"w-full p-2 border border-gray-300 rounded-lg\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 flex-wrap\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:initializeBotpress,disabled:isLoading,className:\"px-4 py-2 bg-purple-500 text-white rounded-lg disabled:opacity-50\",children:isLoading?'Initializing...':'Initialize Botpress'}),/*#__PURE__*/_jsx(\"button\",{onClick:testBotpress,disabled:isLoading||!message,className:\"px-4 py-2 bg-blue-500 text-white rounded-lg disabled:opacity-50\",children:isLoading?'Testing...':'Test Message'}),/*#__PURE__*/_jsx(\"button\",{onClick:testGreeting,disabled:isLoading,className:\"px-4 py-2 bg-green-500 text-white rounded-lg disabled:opacity-50\",children:isLoading?'Testing...':'Test Greeting'})]}),response&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-3 bg-gray-100 rounded-lg\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Response:\"}),\" \",response]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","botpressService","jsx","_jsx","jsxs","_jsxs","BotpressTest","message","setMessage","response","setResponse","isLoading","setIsLoading","isConnected","setIsConnected","conversationId","setConversationId","checkConnection","isServiceConnected","getConversationId","interval","setInterval","clearInterval","testBotpress","messages","sendMessage","length","text","error","testGreeting","getInitialGreeting","initializeBotpress","initialize","className","children","concat","type","value","onChange","e","target","placeholder","onClick","disabled"],"sources":["/Users/jeetruia/MINDBLOOM/mindbloom-app/src/components/BotpressTest.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { botpressService } from '../services/botpressService';\n\nexport function BotpressTest() {\n  const [message, setMessage] = useState('');\n  const [response, setResponse] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isConnected, setIsConnected] = useState(false);\n  const [conversationId, setConversationId] = useState<string | null>(null);\n\n  useEffect(() => {\n    // Check connection status\n    const checkConnection = () => {\n      setIsConnected(botpressService.isServiceConnected());\n      setConversationId(botpressService.getConversationId());\n    };\n    \n    checkConnection();\n    const interval = setInterval(checkConnection, 1000);\n    \n    return () => clearInterval(interval);\n  }, []);\n\n  const testBotpress = async () => {\n    setIsLoading(true);\n    try {\n      const messages = await botpressService.sendMessage(message);\n      if (messages.length > 0) {\n        setResponse(messages[0].text || 'No response');\n      }\n    } catch (error) {\n      setResponse('Error: ' + error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const testGreeting = async () => {\n    setIsLoading(true);\n    try {\n      const messages = await botpressService.getInitialGreeting();\n      if (messages.length > 0) {\n        setResponse(messages[0].text || 'No greeting');\n      }\n    } catch (error) {\n      setResponse('Error: ' + error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const initializeBotpress = async () => {\n    setIsLoading(true);\n    try {\n      await botpressService.initialize();\n      setResponse('Botpress initialization completed');\n    } catch (error) {\n      setResponse('Error initializing Botpress: ' + error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"p-4 bg-white rounded-lg shadow-lg\">\n      <h3 className=\"text-lg font-semibold mb-4\">Botpress Integration Test</h3>\n      \n      {/* Connection Status */}\n      <div className=\"mb-4 p-3 rounded-lg bg-gray-100\">\n        <div className=\"flex items-center space-x-2\">\n          <div className={`w-3 h-3 rounded-full ${isConnected ? 'bg-green-500' : 'bg-red-500'}`}></div>\n          <span className=\"text-sm font-medium\">\n            {isConnected ? 'Connected to Botpress (Real API)' : 'Not connected to Botpress'}\n          </span>\n        </div>\n        {conversationId && (\n          <p className=\"text-xs text-gray-600 mt-1\">Conversation ID: {conversationId}</p>\n        )}\n      </div>\n      \n      <div className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium mb-2\">Test Message:</label>\n          <input\n            type=\"text\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            placeholder=\"Type a message to test...\"\n            className=\"w-full p-2 border border-gray-300 rounded-lg\"\n          />\n        </div>\n        \n        <div className=\"flex space-x-2 flex-wrap\">\n          <button\n            onClick={initializeBotpress}\n            disabled={isLoading}\n            className=\"px-4 py-2 bg-purple-500 text-white rounded-lg disabled:opacity-50\"\n          >\n            {isLoading ? 'Initializing...' : 'Initialize Botpress'}\n          </button>\n          \n          <button\n            onClick={testBotpress}\n            disabled={isLoading || !message}\n            className=\"px-4 py-2 bg-blue-500 text-white rounded-lg disabled:opacity-50\"\n          >\n            {isLoading ? 'Testing...' : 'Test Message'}\n          </button>\n          \n          <button\n            onClick={testGreeting}\n            disabled={isLoading}\n            className=\"px-4 py-2 bg-green-500 text-white rounded-lg disabled:opacity-50\"\n          >\n            {isLoading ? 'Testing...' : 'Test Greeting'}\n          </button>\n        </div>\n        \n        {response && (\n          <div className=\"mt-4 p-3 bg-gray-100 rounded-lg\">\n            <strong>Response:</strong> {response}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}