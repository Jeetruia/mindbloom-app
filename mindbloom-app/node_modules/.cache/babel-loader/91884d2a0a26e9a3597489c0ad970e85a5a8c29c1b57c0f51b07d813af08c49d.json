{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import{motion,AnimatePresence}from'framer-motion';import{useStore}from'./hooks/useStore';import{AvatarScene}from'./components/AvatarScene2D';import{ChatInterface}from'./components/ChatInterface';import{UserAvatar}from'./components/UserAvatar';import{XPBar}from'./components/XPBar';import{WelcomeScreen}from'./components/WelcomeScreen';import{CrisisModal}from'./components/CrisisModal';import{LoadingScreen}from'./components/LoadingScreen';import{CommunityPlatform}from'./components/CommunityPlatform';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const{user,avatarState,isLoading,crisisDetected,initializeApp}=useStore();const[showWelcome,setShowWelcome]=useState(true);const[activeTab,setActiveTab]=useState('chat');useEffect(()=>{initializeApp();},[initializeApp]);useEffect(()=>{if(user){setShowWelcome(false);}},[user]);if(isLoading){return/*#__PURE__*/_jsx(LoadingScreen,{});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App min-h-screen bg-gradient-to-br from-primary-50 to-wellness-50\",children:[/*#__PURE__*/_jsx(AnimatePresence,{children:showWelcome&&/*#__PURE__*/_jsx(WelcomeScreen,{onComplete:()=>setShowWelcome(false)})}),crisisDetected&&/*#__PURE__*/_jsx(CrisisModal,{}),/*#__PURE__*/_jsxs(\"main\",{className:\"relative h-screen overflow-hidden\",children:[user&&/*#__PURE__*/_jsx(motion.header,{className:\"absolute top-0 left-0 right-0 z-10 p-4\",initial:{y:-100},animate:{y:0},transition:{duration:0.5},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(UserAvatar,{level:user.avatarLevel}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-xl font-semibold text-gray-800\",children:[\"Welcome, \",user.nickname]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Day \",user.streak,\" streak\"]})]})]}),/*#__PURE__*/_jsx(XPBar,{currentXP:user.xp,level:user.avatarLevel})]})}),user&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-20 left-0 right-0 z-10 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1 bg-white/90 backdrop-blur-sm rounded-lg p-1 border border-gray-200 max-w-md mx-auto\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('chat'),className:\"flex-1 py-2 px-4 rounded-md transition-colors \".concat(activeTab==='chat'?'bg-primary-500 text-white':'text-gray-600 hover:bg-gray-100'),children:\"\\uD83D\\uDCAC Chat with Mira\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('community'),className:\"flex-1 py-2 px-4 rounded-md transition-colors \".concat(activeTab==='community'?'bg-emerald-500 text-white':'text-gray-600 hover:bg-gray-100'),children:\"\\uD83C\\uDF0D Community\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex h-full pt-32\",children:activeTab==='chat'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 relative\",children:/*#__PURE__*/_jsx(AvatarScene,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-96 bg-white/80 backdrop-blur-sm border-l border-gray-200\",children:/*#__PURE__*/_jsx(ChatInterface,{})})]}):/*#__PURE__*//* Community Platform */_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(CommunityPlatform,{})})})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/breathing\",element:/*#__PURE__*/_jsx(\"div\",{children:\"Breathing Exercise\"})}),/*#__PURE__*/_jsx(Route,{path:\"/journaling\",element:/*#__PURE__*/_jsx(\"div\",{children:\"Journaling\"})}),/*#__PURE__*/_jsx(Route,{path:\"/exercises\",element:/*#__PURE__*/_jsx(\"div\",{children:\"CBT Exercises\"})})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","motion","AnimatePresence","useStore","AvatarScene","ChatInterface","UserAvatar","XPBar","WelcomeScreen","CrisisModal","LoadingScreen","CommunityPlatform","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","user","avatarState","isLoading","crisisDetected","initializeApp","showWelcome","setShowWelcome","activeTab","setActiveTab","children","className","onComplete","header","initial","y","animate","transition","duration","level","avatarLevel","nickname","streak","currentXP","xp","onClick","concat","path","element"],"sources":["/Users/jeetruia/MINDBLOOM/mindbloom-app/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { useStore } from './hooks/useStore';\nimport { AvatarScene } from './components/AvatarScene2D';\nimport { ChatInterface } from './components/ChatInterface';\nimport { UserAvatar } from './components/UserAvatar';\nimport { XPBar } from './components/XPBar';\nimport { WelcomeScreen } from './components/WelcomeScreen';\nimport { CrisisModal } from './components/CrisisModal';\nimport { LoadingScreen } from './components/LoadingScreen';\nimport { CommunityPlatform } from './components/CommunityPlatform';\n\nfunction App() {\n  const { \n    user, \n    avatarState, \n    isLoading, \n    crisisDetected,\n    initializeApp \n  } = useStore();\n\n  const [showWelcome, setShowWelcome] = useState(true);\n  const [activeTab, setActiveTab] = useState<'chat' | 'community'>('chat');\n\n  useEffect(() => {\n    initializeApp();\n  }, [initializeApp]);\n\n  useEffect(() => {\n    if (user) {\n      setShowWelcome(false);\n    }\n  }, [user]);\n\n  if (isLoading) {\n    return <LoadingScreen />;\n  }\n\n  return (\n    <Router>\n      <div className=\"App min-h-screen bg-gradient-to-br from-primary-50 to-wellness-50\">\n        <AnimatePresence>\n          {showWelcome && (\n            <WelcomeScreen onComplete={() => setShowWelcome(false)} />\n          )}\n        </AnimatePresence>\n\n        {crisisDetected && <CrisisModal />}\n\n        <main className=\"relative h-screen overflow-hidden\">\n          {/* Header with XP Bar */}\n          {user && (\n            <motion.header \n              className=\"absolute top-0 left-0 right-0 z-10 p-4\"\n              initial={{ y: -100 }}\n              animate={{ y: 0 }}\n              transition={{ duration: 0.5 }}\n            >\n              <div className=\"flex justify-between items-center\">\n                <div className=\"flex items-center space-x-4\">\n                  <UserAvatar level={user.avatarLevel} />\n                  <div>\n                    <h1 className=\"text-xl font-semibold text-gray-800\">\n                      Welcome, {user.nickname}\n                    </h1>\n                    <p className=\"text-sm text-gray-600\">\n                      Day {user.streak} streak\n                    </p>\n                  </div>\n                </div>\n                <XPBar currentXP={user.xp} level={user.avatarLevel} />\n              </div>\n            </motion.header>\n          )}\n\n          {/* Tab Navigation */}\n          {user && (\n            <div className=\"absolute top-20 left-0 right-0 z-10 p-4\">\n              <div className=\"flex space-x-1 bg-white/90 backdrop-blur-sm rounded-lg p-1 border border-gray-200 max-w-md mx-auto\">\n                <button\n                  onClick={() => setActiveTab('chat')}\n                  className={`flex-1 py-2 px-4 rounded-md transition-colors ${\n                    activeTab === 'chat'\n                      ? 'bg-primary-500 text-white'\n                      : 'text-gray-600 hover:bg-gray-100'\n                  }`}\n                >\n                  üí¨ Chat with Mira\n                </button>\n                <button\n                  onClick={() => setActiveTab('community')}\n                  className={`flex-1 py-2 px-4 rounded-md transition-colors ${\n                    activeTab === 'community'\n                      ? 'bg-emerald-500 text-white'\n                      : 'text-gray-600 hover:bg-gray-100'\n                  }`}\n                >\n                  üåç Community\n                </button>\n              </div>\n            </div>\n          )}\n\n          {/* Main Content Area */}\n          <div className=\"flex h-full pt-32\">\n            {activeTab === 'chat' ? (\n              <>\n                {/* Avatar Scene */}\n                <div className=\"flex-1 relative\">\n                  <AvatarScene />\n                </div>\n\n                {/* Chat Interface */}\n                <div className=\"w-96 bg-white/80 backdrop-blur-sm border-l border-gray-200\">\n                  <ChatInterface />\n                </div>\n              </>\n            ) : (\n              /* Community Platform */\n              <div className=\"flex-1\">\n                <CommunityPlatform />\n              </div>\n            )}\n          </div>\n        </main>\n\n        <Routes>\n          <Route path=\"/breathing\" element={<div>Breathing Exercise</div>} />\n          <Route path=\"/journaling\" element={<div>Journaling</div>} />\n          <Route path=\"/exercises\" element={<div>CBT Exercises</div>} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}